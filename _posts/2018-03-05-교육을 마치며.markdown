---
layout: post
title:  "교육을 마치며"
date:   2018-03-05 01:46:03 +0530
categories: summary
---
# 기억나는 부분
교육기간 동안 정말 여러가지 많은 부분을 배웠지만 가장 기억나는 부분에 대해서 리뷰

## 첫 개발
처음으로 개발에 들어갔을 때에는 클린 코드를 신경쓸 겨를 없이 정해진 스펙을 구현하는 데에만 노력을 쏟다보니 이후에 코드리뷰나 리팩토링을 할때에 해결해야 할 과제들이 많았다. 작게는 변수명, 들여쓰기부터 시작해서 크게는 전체적인 코드 구조까지 고쳐야 했다. 제일 기억에 남는 것은 처음에 만들때에는 javaScript로 api서버에 직접 ajax로 post를 보내서 로그인 처리를 하는 부분이 있었는데, 하늘TF와 코드리뷰를 하는 중에 그 코드에 대한 이야기가 나왔고 피드백을 해줬는데 내가 부족한 부분을 보고 배울수 있게되어서 기분이 좋았다.

## TDD
처음으로 TestCase를 만들다보니 JUnit과 Mock에 대해서 익숙하지 못한 부분이 많아 시행착오에 시간이 많이 들어갔다. 그리고 현재 코드에 대해서 line coverage를 올리기 위해 TestCase를 만드는데 만들다보니 확실히 코드에 대해서 이해도 높아지고 부족한 부분들도 보여 TestCase를 만들면서 리팩토링도 많이 되었다. 하지만 coverage를 90퍼 이상으로 만들고 난후 코드가 고쳐지거나 기능이 추가될 때에 새로운 코드에 대해서 coverage를 신경쓰지 못하다 보니 coverage의 그래프가 내려가는게 보였고 그에 대해서 지적도 받았다.

## Redis
redis를 사용하기 전까지는 기본 session을 사용하고 있었는데 사실 사용하면서도 이렇게 사용하는게 맞는지 의심이 들었다. 어디에 저장을 따로해두는 것도 아니었기 때문에 어떻게 검증을 하는지 의문이었지만 session을 DB에 넣고 요청이 들어올때마다 확인을 하는것은 너무 느리지 않을까 하는 의문이 들었기 때문에 따로 DB는 사용하지 않았다. 하지만 교육을 듣고나서 redis를 사용하면 걱정이 되지 않을 만큼 빠르게 읽고 쓸수 있기 때문에 걱정할 필요없다는 백창열 이사님의 말을 듣고 redis를 활용한 session을 만들게 되었다. redis로 하고나니 다른것 보다도 기존 session을 사용할때 보다 훨씬 session의 동작원리가 이해가 쉬웠다.

## DB Scale out
DB scale out에 대해서 배우며 TF끼리 따로 만들던 groupware 웹을 다 합쳐서 각 TF마다 하나의 cell처럼 동작하도록 하는 과제가 나왔다. 처음 샤딩을 적용하려고 할때는 샤딩의 적용 방식도 많은데 안되는것이 대부분이라 어떻게 해야지 동작할 수 있을지 되는 방법을 찾는 것에 시간이 많이 할애되었다. 그리고 샤딩을 하더라도 이것이 쓰레드별로 별개로 동작하지 않는다면 샤딩이 꼬일 수 있는 문제점이 있기 때문에 해당 이슈에 대해서 이사님이나 멘토님들께 물어보고 ThreaLlocal이란 것을 활용되기 때문에 괜찮다는 것을 알게 되었다.

## 안정적인 서비스 운영
일단 서비스를 배포했다고 해서 끝이 아니라 안정적인 서비스 운영을 위해서 여러가지 많은 툴들이 있다는 것을 알게되었다. 확실히 학교프로젝트랑은 다르게 서비스중에 에러가 나게되면 신속한 복구가 중요하기 때문에 여러가지 모니터링을 하면서 유지를 해야한다.
